---
import Linkedin from '@assets/linkedin.svg'
import Slack from '@assets/slack.svg'
import Instagram from '@assets/instagram.svg'
import Github from '@assets/github.svg'
import Youtube from '@assets/youtube.svg'
import WmNamedLogo from '@assets/wm-named-logo.svg'
import FooterCopyright from './FooterCopyright.astro'
import { getLangFromUrl, useTranslations } from '../../i18n/utils'
const lang = getLangFromUrl(Astro.url)
const t = useTranslations(lang)
---

<footer>
  <div class='footer-container contentWrapper'>
    <nav class='footer-menu' aria-label='Footer'>
      <ul>
        <li>
          <a
            href='https://community.interledger.org/'
            data-umami-event='Footer - Community'
            rel='noopener noreferrer'
            target='_blank'>{t('footer.menu.community')}</a
          >
        </li>
        <li>
          <a
            href='https://github.com/WICG/webmonetization'
            data-umami-event='Footer - GitHub'
            rel='noopener noreferrer'
            target='_blank'>{t('footer.menu.github')}</a
          >
        </li>
        <li>
          <a
            href='https://interledger.org/blog'
            data-umami-event='Footer - Blog'
            rel='noopener noreferrer'
            target='_blank'>{t('footer.menu.blog')}</a
          >
        </li>
        <li>
          <a
            href='/faq'
            data-umami-event='Footer - FAQ page'
            rel='noopener noreferrer'
            target='_blank'>{t('footer.menu.faq')}</a
          >
        </li>
      </ul>
      <ul>
        <li>
          <a
            href='https://interledger.org/'
            data-umami-event='Footer - Interledger Foundation'
            rel='noopener noreferrer'
            target='_blank'>Interledger Foundation</a
          >
        </li>
        <li>
          <a
            href='https://wicg.io/'
            data-umami-event='Footer - WICG'
            rel='noopener noreferrer'
            target='_blank'>Web Incubator Community Group</a
          >
        </li>
        <li>
          <a
            href='https://interledger.org/summit'
            data-umami-event='Footer - Summit'
            rel='noopener noreferrer'
            target='_blank'>{t('footer.menu.summit')}</a
          >
        </li>
      </ul>
      <ul>
        <li>
          <a
            href='https://www.iubenda.com/privacy-policy/95080147'
            data-umami-event='Footer - Privacy Policy'
            rel='noopener noreferrer'
            target='_blank'>{t('footer.menu.privacy_policy')}</a
          >
        </li>
        <li>
          <a
            href='https://www.iubenda.com/privacy-policy/95080147/cookie-policy'
            data-umami-event='Footer - Cookie Policy'
            rel='noopener noreferrer'
            target='_blank'>{t('footer.menu.cookie_policy')}</a
          >
        </li>
        <li>
          <a
            href='https://www.iubenda.com/terms-and-conditions/95080147'
            data-umami-event='Footer - T & C'
            rel='noopener noreferrer'
            target='_blank'>{t('footer.menu.terms_conditions')}</a
          >
        </li>
      </ul>
    </nav>
    <div class='footer-brand'>
      <ul class='social-menu'>
        <li>
          <a
            href='https://www.linkedin.com/company/interledger-foundation/'
            aria-label='LinkedIn'
            data-umami-event='Footer - LinkedIn'
            rel='noopener noreferrer'
            target='_blank'
          >
            <Linkedin />
          </a>
        </li>
        <li>
          <a
            href='https://communityinviter.com/apps/interledger/interledger-working-groups-slack'
            aria-label='Slack'
            data-umami-event='Footer - Slack'
            rel='noopener noreferrer'
            target='_blank'
          >
            <Slack />
          </a>
        </li>
        <li>
          <a
            href='https://www.instagram.com/interledgerfoundation/'
            aria-label='Instagram'
            data-umami-event='Footer - Instagram'
            rel='noopener noreferrer'
            target='_blank'
          >
            <Instagram />
          </a>
        </li>
        <li>
          <a
            href='https://github.com/WICG/webmonetization'
            aria-label='GitHub'
            data-umami-event='Footer - GitHub'
            rel='noopener noreferrer'
            target='_blank'
          >
            <Github />
          </a>
        </li>
        <li>
          <a
            href='https://www.youtube.com/@InterledgerFoundation'
            aria-label='Youtube'
            data-umami-event='Footer - YouTube'
            rel='noopener noreferrer'
            target='_blank'
          >
            <Youtube />
          </a>
        </li>
      </ul>
      <hr class='line' />
      <a
        href='/'
        aria-label={t('footer.menu.home')}
        data-umami-event='Footer - Home link'
        class='home-link'
      >
        <WmNamedLogo />
      </a>
    </div>
    <FooterCopyright />
  </div>
</footer>

<style>
  footer {
    padding: 0 var(--padding-md) 5rem var(--padding-md);
    font: var(--font-standard-regular);
  }

  ul {
    list-style: none;
    padding: 0;
  }

  footer a {
    text-decoration: none;
    color: var(--default-font-color);
  }

  a:hover {
    text-decoration: underline;
  }

  a:focus-visible {
    text-decoration: none;
    outline-offset: var(--padding-2xs);
  }
  .footer-container.contentWrapper {
    padding: var(--padding-md);
    background-color: var(--footer-bg-color);
    border-radius: var(--pill-rounding);
  }

  .footer-menu {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-2xl);
    margin-bottom: var(--spacing-2xl);
  }

  .footer-menu ul {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: var(--spacing-sm);
    padding-right: var(--padding-lg);
    text-align: center;
  }

  .footer-menu li:first-of-type::before {
    content: '';
    display: block;
    position: relative;
    margin-bottom: var(--spacing-sm);
    width: var(--spacing-2xl);
    height: var(--spacing-2xs);
    left: 50%;
    transform: translate(-50%);
    background-image: linear-gradient(to right, #009877, #50d098);
    border-radius: var(--fully-rounded);
  }

  .footer-brand {
    display: flex;
    flex-direction: column-reverse;
    align-items: center;
    gap: var(--spacing-md);
    margin-bottom: var(--spacing-2xl);
  }

  .footer-brand ul.social-menu {
    display: flex;
    flex-direction: row;
    justify-content: space-between;
    width: 100%;
    max-width: 19.5rem;
  }

  .social-menu svg,
  .home-link svg {
    transition: transform 0.2s ease-in-out;
  }

  .social-menu a:hover svg,
  .home-link:hover svg {
    transform: scale(1.1);
  }

  .line {
    width: 100%;
    height: 1px;
    background-color: var(--color-purple-100);
    border: none;
  }

  @media screen and (min-width: 768px) {
    footer {
      padding-top: var(--padding-sm);
    }

    .footer-container.contentWrapper {
      padding: var(--padding-2xl);
    }

    .footer-menu {
      flex-direction: row;
      justify-content: space-between;
      gap: var(--spacing-lg);
      margin-top: var(--spacing-md);
      margin-bottom: var(--spacing-md);
    }

    .footer-menu ul {
      flex: 1;
      align-items: start;
      gap: var(--spacing-md);
      text-align: left;
      border-right: 1px solid var(--color-blue-300);
    }

    .footer-menu ul:last-of-type {
      border-right: none;
    }

    .footer-menu li:first-of-type::before {
      left: 0;
      transform: translate(0%);
    }

    .footer-brand {
      flex-direction: column;
      gap: var(--spacing-lg);
      margin-bottom: var(--spacing-lg);
    }

    .footer-brand ul.social-menu {
      max-width: 12.5rem;
    }
  }
</style>
