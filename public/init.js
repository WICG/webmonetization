(function(){"use strict";let m,p,w="default",_;const h=document.getElementById("wmt-init-script");if(h){const e=new URL(h.src),t=new URLSearchParams(e.search);m=(t.get("types")||"").split("|"),p=t.get("wa")||void 0,w=t.get("tag")||"default",_=encodeURIComponent(t.get("wa")||"")}if(!m||!p)throw"Missing parameters! Could not initialise WM Tools.";fetch(`undefinedtools/${_}/${w}`).then(e=>e.json()).then(e=>{T(m,p,e)}).catch(e=>console.log(e));const u=()=>{const e=navigator.userAgent;return e.includes("Firefox")?'Get the&nbsp;<a rel="noindex nofollow" target="_blank" href="https://addons.mozilla.org/en-US/firefox/addon/web-monetization-extension/">extension</a>':e.includes("Chrome")&&!e.includes("Edg")&&!e.includes("OPR")?'Get the&nbsp;<a rel="noindex nofollow" target="_blank" href="https://chromewebstore.google.com/detail/web-monetization-extensio/oiabcfomehhigdepbbclppomkhlknpii">extension</a>':e.includes("Edg")?'Get the&nbsp;<a rel="noindex nofollow" target="_blank" href="https://microsoftedge.microsoft.com/addons/detail/web-monetization-extensio/imjgemgmeoioefpmfefmffbboogighjl">extension</a>':'Learn more&nbsp;<a rel="noindex nofollow" target="_blank" href="https://webmonetization.org/">here</a>.'},y=()=>{const e=document.createElement("div"),t=e.attachShadow({mode:"open"});return{shadowHost:e,shadowRoot:t}},f=e=>{const t=document.createElement("link");t.rel="monetization",t.href=`https://${e}`,document.head.appendChild(t)},g=e=>{const t=document.createElement("link");return t.rel="stylesheet",t.type="text/css",t.href=`undefined${e}`,t},L=["Cookie","Roboto","Open Sans","Titillium Web","Arial"],b=(e,t="banner")=>{const i=document.getElementById(`wmt-font-family-${t}`);i&&i.remove();let n="inherit";if(L.indexOf(e)!=-1&&(n=e),n=="inherit")return;const o=document.createElement("link");switch(o.id=`wmt-font-family-${t}`,o.rel="stylesheet",o.type="text/css",n){case"Open Sans":o.href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&display=swap";break;case"Cookie":o.href="https://fonts.googleapis.com/css2?family=Cookie&display=swap";break;case"Roboto":o.href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap";break;default:o.href="https://fonts.googleapis.com/css2?family=Titillium+Web:ital,wght@0,200;0,300;0,400;0,600;0,700;0,900;1,200;1,300;1,400;1,600;1,700&display=swap"}return{fontFamily:o,selectedFont:n}},T=(e,t,i)=>{const{shadowHost:n,shadowRoot:o}=y();f(t);for(const r in e)switch(e[Number(r)]){case"widget":{const a=b(i.widgetFontName,"widget");n.style.setProperty("--wmt-widget-font",a!=null&&a.selectedFont?a.selectedFont:"inherit"),n.style.setProperty("--wmt-widget-font-size",i.widgetFontSize);const x=g("css/widget.css"),F=C(t,i);o.appendChild(x),o.appendChild(F),a!=null&&a.fontFamily&&document.body.appendChild(a.fontFamily),document.body.appendChild(n);break}case"banner":default:const s=b(i.bannerFontName,"banner");n.style.setProperty("--wmt-banner-font",s!=null&&s.selectedFont?s.selectedFont:"inherit"),n.style.setProperty("--wmt-banner-font-size",i.bannerFontSize);const d=g("css/banner.css"),c=k(i);c&&(o.appendChild(d),o.appendChild(c)),s!=null&&s.fontFamily&&document.body.appendChild(s.fontFamily),document.body.appendChild(n)}},k=e=>{const t=sessionStorage.getItem("_wm_tools_closed_by_user"),i=document.querySelector("link[rel=monetization]");if(i&&i.relList.supports("monetization")||t)return;const n=document.createElement("div");n.className="_wm_tools_banner";const o=e.bannerPosition?e.bannerPosition.toLowerCase():"bottom";if(n.classList.add(`_wm_tools_banner_${o}`),e.bannerSlideAnimation!="None"){const d=e.bannerSlideAnimation&&o=="top"?"down":"up";n.classList.add(`_wm_tools_banner_${d}`)}n.style.color=e.bannerTextColor,n.style.backgroundColor=e.bannerBackgroundColor;const r=e.bannerBorder=="Light"?"0.375rem":e.bannerBorder=="Pill"?"1rem":"0";n.style.borderRadius=r;const l=document.createElement("div");l.className="_wm_tools_banner_header",e.bannerTitleText?l.innerHTML=`<h5>${e.bannerTitleText}</h5>`:l.innerHTML="<span></span>";const s=document.createElement("span");return s.innerHTML="x",s.addEventListener("click",()=>{sessionStorage.setItem("_wm_tools_closed_by_user","true"),n.classList.add("_wm_tools_hidden")}),l.append(s),n.append(l),n.insertAdjacentHTML("beforeend",`<span>${e.bannerDescriptionText}</span>`),n.insertAdjacentHTML("beforeend",`<span class="_wm_link">${u()}</span>`),n},C=(e,t)=>{const i=window.innerHeight,n=window.innerWidth,o=document.createElement("div");o.className="_wm_tools_widget";const r=document.createElement("div");r.className="_wm_tools_widget_content",r.style.color=t.widgetTextColor,r.style.backgroundColor=t.widgetBackgroundColor;const l=t.css||void 0;let s=`undefined?receiver=https://${encodeURI(e||"")}&`;t.widgetButtonText&&(s+=`action=${encodeURI(t.widgetButtonText)}&`),l&&(s+=`css=${l}&`),r.innerHTML=`
        <div class="_wm_tools_widget_header">
          <h5>${t.widgetTitleText}</h5>
          <p>${t.widgetDescriptionText}</p>
        </div>
        <div class="_wm_tools_widget_iframe_wrapper"> 
          <iframe
            id="ilpay_iframe"
            class="_wm_tools_widget_iframe"
            src=${s}
          />
        </div>`;const d=document.createElement("a");d.className="_wm_tools_widget_poweredby",d.innerHTML='<img src="undefinedimages/powered_by.svg" />',r.appendChild(d),o.appendChild(r);const c=t!=null&&t.widgetTriggerIcon?t==null?void 0:t.widgetTriggerIcon:"undefinedimages/wm_logo_animated.svg",a=document.createElement("div");return a.className="_wm_tools_widget_trigger",a.style.backgroundColor=t.widgetTriggerBackgroundColor,a.innerHTML=`
        <img
          src="${c}"
          alt="widget trigger"
        />`,a.addEventListener("click",()=>{i<710&&r.classList.toggle("_wm_short_screen"),n<400&&r.classList.toggle("_wm_small_screen"),r.classList.toggle("_wm_tools_widget_open")}),o.appendChild(a),o}})();
